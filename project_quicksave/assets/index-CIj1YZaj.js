import{g as r,s as n}from"./index-DRKgHuQU.js";import{C as R,e as p,D as E,R as O,U as T,m as U,n as d,p as y,q as D}from"./index-DRKgHuQU.js";async function h({request:e}){const o=new URL(e.url),s=o.searchParams.get("token_hash"),t=o.searchParams.get("type");if(s===null||t===null)return r("/login");const{data:u,error:a}=await n.auth.verifyOtp({token_hash:s,type:t});if(a)return console.error("ROUTE: /auth/confirm"),console.error(a),r("/login");const{session:i,user:c}=u;return!i||!c?r("/login"):r("/")}async function m(){const{error:e}=await n.auth.signOut();return e&&(console.error("ROUTE: /logout"),console.error(e)),r("/")}export{R as COUNT,p as CREATE,E as DESTROY,O as READ,T as UPDATE,h as authRouteLoader,U as getItem,d as removeItem,y as setItem,m as signOutRouteLoader,n as supabase,D as userSessionLoader};
