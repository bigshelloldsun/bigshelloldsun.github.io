import{f as t,j as e,F as o,g as n,s as l}from"./index-DpMvzqDM.js";import{H as c,B as a,C as d,a as m,f as u,d as h,e as g,g as j}from"./Header-D7SpY8RQ.js";import{L as x,I as p}from"./label-Cz4MhgzS.js";function b(){const i=t(),r=()=>{i("..")};return e.jsxs(e.Fragment,{children:[e.jsx(c,{children:e.jsx(a,{onPointerDown:r,children:"Close"})}),e.jsx("div",{className:"p-3",children:e.jsx(o,{method:"POST",children:e.jsxs(d,{className:"h-min",children:[e.jsxs(m,{children:[e.jsx(u,{children:"Sign-in / Register"}),e.jsx(h,{children:"Enter your email to sign-in or register if you don't have an account. You will receive an access token in your email reply."})]}),e.jsxs(g,{children:[e.jsx(x,{htmlFor:"email",children:"Enter email:"}),e.jsx(p,{id:"email",name:"email",type:"email",required:!0})]}),e.jsx(j,{children:e.jsx(a,{type:"submit",children:"Submit"})})]})})})]})}async function v({request:i}){const{email:r}=Object.fromEntries(await i.formData());if(!r||typeof r!="string")return n("/login");const{error:s}=await l.auth.signInWithOtp({email:r});return s?(console.error("ROUTE: /login"),console.error(s),n("/login")):n("/")}export{b as SignInPage,v as action};
